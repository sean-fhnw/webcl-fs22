<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Todos</title>
    <link rel="stylesheet" href="../todo.css">
</head>
<body>

<main>
    <h1>Todo List</h1>

    <div class="holder">
        <button id="plus" autofocus onclick="todoController.addTodo();"> + </button>
        <button id="fortune"        onclick="todoController.addFortuneTodo();"> fortune! </button>

        <div class="table" id="todoContainer"></div>

        <div>Tasks: <span id="numberOfTasks">0</span></div>
        <div>Open:  <span id="openTasks"    >0</span></div>

        <div>
            Minimum valid todo length: <span id="minLen">1 letter</span>
        </div>
        <input type="range" value="1" min="1" max="20" id="minLenInput" oninput="todoController.setMinLength(parseInt(this.value))">
        <label><input type="radio" name="minLenMode" value="letters" oninput="todoController.setMinLengthMode(this.value)" checked> letters</label>
        <label><input type="radio" name="minLenMode" value="words" oninput="todoController.setMinLengthMode(this.value)"> words</label>
    </div>
</main>


<script src="../observable/observable.js"></script>
<script src="../observable/computed.js"></script>
<script src="../dataflow/dataflow.js"></script>
<script src="fortuneService.js"></script>
<script src="todo.js"></script>
<script>
    const todoController = TodoController();

    TodoItemsView(todoController, document.getElementById('todoContainer'));
    TodoTotalView(todoController, document.getElementById('numberOfTasks'));
    TodoOpenView (todoController, document.getElementById('openTasks'));
    MinTodoLengthView(todoController, document.getElementById('minLen'));

    todoController.addTodo();

</script>

</body>

</html>
